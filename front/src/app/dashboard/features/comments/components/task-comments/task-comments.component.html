<div class="flex flex-col gap-6 pb-2">
  <jira-write-comment
    [taskId]="taskId$ | async"
    [currentUser]="currentUser$ | async"
  ></jira-write-comment>

  <ng-container *ngIf="requestState?.isPending">
    <ng-container *ngTemplateOutlet="commentListSkeleton"></ng-container>
  </ng-container>
  <jira-comment-list-ui
    [ngClass]="requestState?.isPending ? 'hidden' : ''"
    [comments]="taskComments$ | async"
  ></jira-comment-list-ui>
</div>

<ng-template #commentListSkeleton>
  <div class="animate-pulse flex space-x-4" *ngFor="let _ of [1, 2, 3, 4, 5]">
    <div class="rounded-full bg-slate-300 h-4 w-4"></div>
    <div class="flex-1 space-y-2 py-1">
      <div class="h-2 w-1/2 bg-slate-300 rounded-sm"></div>
      <div class="h-4 bg-slate-300 rounded-sm"></div>
    </div>
  </div>
</ng-template>
